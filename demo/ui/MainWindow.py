#coding=utf-8

from data.SongData import SongData
from data.UserData import UserData
import sys
from PyQt5.QtWidgets import QWidget, QApplication, QPushButton, QLineEdit, QLabel, QHBoxLayout, QVBoxLayout
from PyQt5 import QtCore
from ui.SongButton import SongButton
from model.DefaultRecom import DefaultRecom

example = {"k_song_id": 3170504, "song_h5_url": "http://c.y.qq.com/v8/playsong.html?songmid=000Md1wq0vnwzE&ADTAG=opi12345681", "album_name": "体面", "public_time": "2017-12-25", "song_size_sq": 0, "album_mid": "001qYTzY2oyDyZ", "song_play_url": "http://isure.stream.qqmusic.qq.com/C200000Md1wq0vnwzE.m4a?guid=12347318&vkey=1A09718E8ECE02C35EE094CEC756C47C351640B664C8B0919E93B4896E31D8B225965114CEEC4F52756DD046941322E9E849245A5F30AFC1&uin=&fromtag=50", "song_size_hq": 0, "isonly": 1, "song_size_standard": 3453940, "k_song_mid": "001ARktB4GfKfx", "song_title": "体面", "user_own_rule": 1, "song_mid": "000Md1wq0vnwzE", "song_id": 212606735, "singer_mid": "000poF8D027tPr", "singer_pic_300x300": "http://y.gtimg.cn/music/photo_new/T001R300x300M000000poF8D027tPr.jpg", "album_pic": "http://y.gtimg.cn/music/photo_new/T002R120x120M000001qYTzY2oyDyZ.jpg", "song_play_url_hq": "", "singer_pic_500x500": "http://y.gtimg.cn/music/photo_new/T001R500x500M000000poF8D027tPr.jpg", "hot": 0, "mv_id": 1439542, "try_end": 133483, "album_pic_300x300": "http://y.gtimg.cn/music/photo_new/T002R300x300M000001qYTzY2oyDyZ.jpg", "singer_title": "于文文", "song_size": 1717165, "song_play_url_sq": "", "language": "国语", "singer_pic_150x150": "http://y.gtimg.cn/music/photo_new/T001R150x150M000000poF8D027tPr.jpg", "album_id": 3827222, "song_play_time": 282, "song_play_url_standard": "http://isure.stream.qqmusic.qq.com/C400000Md1wq0vnwzE.m4a?guid=12347318&vkey=965D5DA15A554DD4BFCE63B7396DB12C98D89AF1F326FA4EE874C72B3173B9913893445D897E089BBCF20AE387BEA30E19EEF9029E70C851&uin=&fromtag=50", "lyric": "体面 (《前任3：再见前任》电影插曲) - 于文文 词：唐恬 曲：于文文 编曲：郑楠 和声/和声设计：于文文  别堆砌怀念让剧情 变得狗血  深爱了多年又何必 毁了经典  都已成年不拖不欠  浪费时间是我情愿  像谢幕的演员  眼看着灯光熄灭  来不及 再轰轰烈烈  就保留 告别的尊严  我爱你不后悔  也尊重故事结尾  分手应该体面 谁都不要说抱歉 何来亏欠 我敢给就敢心碎 镜头前面是从前的我们 在喝彩 流着泪声嘶力竭  离开也很体面 才没辜负这些年 爱得热烈 认真付出的画面 别让执念 毁掉了昨天 我爱过你 利落干脆  最熟悉的街主角却 换了人演  我哭到哽咽心再痛 就当破茧  来不及 再轰轰烈烈  就保留 告别的尊严  我爱你不后悔  也尊重故事结尾  分手应该体面 谁都不要说抱歉 何来亏欠 我敢给就敢心碎 镜头前面是从前的我们 在喝彩 流着泪声嘶力竭  离开也很体面 才没辜负这些年 爱得热烈 认真付出的画面 别让执念 毁掉了昨天 我爱过你 利落干脆  再见  不负遇见", "album_pic_500x500": "http://y.gtimg.cn/music/photo_new/T002R500x500M000001qYTzY2oyDyZ.jpg", "singer_name": "于文文", "features": [0.0125, 0.0002192372, 0.0, 0.0002192372, 15574.0, 0.0, 1.439301e-05, 2.849159e-10, 1.036487e-05, 1.257139e-05, 3.342696e-10, 1.843037e-05, 2.684647, 13.9294, 2.280169e-06, 7.747251e-06, 1.943133e-05, 5.467082e-06, 1.168408e-05, 1.715116e-05, 5.033369, 0.0, 5.033369, 15574.0, 0.0, 1.647294, 5.131061e-06, 1.574751, 0.5970358, 0.5604095, 0.7497758, 0.2878302, 3.023127, 1.110301, 1.615595, 2.139582, 0.5052941, 0.5239869, 1.029281, 55.54955, -45.60663, 101.1562, 2332.0, 25060.0, 9.55828, -0.0006643943, 18.95149, 14.95123, 346.3478, 19.38455, 0.6186345, 2.436197, -4.737696, 4.193632, 21.43946, 8.931328, 17.24583, 26.17716, 42.84605, -37.79717, 80.64322, 5326.0, 281.0, -2.938235, 0.0003600504, -8.028627, 8.006084, 110.2654, 10.90428, -0.03661258, 3.625943, -9.194509, -2.707674, 3.568267, 6.486835, 6.27594, 12.76278, 47.24434, -27.84691, 75.09125, 3850.0, 3956.0, 4.456223, -3.164816e-05, 4.903664, 8.029211, 101.0552, 10.05594, 0.2259029, 3.112173, -2.663193, 4.245062, 11.18808, 6.908256, 6.943014, 13.85127, 24.19225, -55.8787, 80.07095, 22027.0, 25647.0, -5.583955, 9.225768e-05, -6.888294, 7.933545, 106.8963, 10.36646, -0.6945035, 4.072736, -11.20265, -4.554257, 1.344937, 6.64839, 5.899194, 12.54758, 49.67606, -33.68347, 83.35953, 18298.0, 5339.0, 1.228714, 4.569528e-05, 0.5826743, 8.234731, 114.2783, 10.69661, 0.3703367, 3.729211, -5.597233, 0.6622222, 7.478602, 6.259455, 6.81638, 13.07583, 39.00193, -54.26025, 93.26219, 4036.0, 2787.0, -1.457286, 0.0002319833, -4.737065, 7.807401, 102.1552, 10.28305, -0.5067566, 4.09157, -7.414825, -0.8864744, 5.320256, 6.528351, 6.20673, 12.73508, 35.7012, -50.60215, 86.30334, 7432.0, 3669.0, -1.238452, 0.0002396715, -4.626928, 8.655004, 121.9105, 11.2133, -0.4176295, 3.378773, -7.851545, -0.284448, 6.385919, 7.567097, 6.670367, 14.23746, 43.56558, -40.73436, 84.29994, 5754.0, 4455.0, -0.1393881, 1.440514e-05, -0.343048, 8.480022, 116.8852, 10.81198, 0.128223, 3.334588, -7.257154, -0.09165081, 6.759607, 7.165504, 6.851258, 14.01676, 44.70841, -53.74125, 98.44965, 17688.0, 25128.0, -3.03398, 0.000115387, -4.665321, 9.309508, 138.7445, 11.81658, -0.1641117, 3.134665, -10.53272, -2.691912, 4.819163, 7.840812, 7.511075, 15.35189, 33.90525, -74.77276, 108.678, 25287.0, 25094.0, -7.18658, 0.0001647735, -9.516149, 9.573761, 153.4725, 12.4612, -0.7524418, 4.162496, -13.93744, -5.609585, 1.232944, 8.327854, 6.842529, 15.17038, 41.68433, -48.86696, 90.55129, 5718.0, 3897.0, 0.2321154, 0.0001176937, -1.431838, 7.849597, 99.26276, 10.00928, -0.1871412, 3.250757, -6.010248, 0.4602065, 6.971188, 6.470454, 6.510981, 12.98144, 39.09932, -44.13822, 83.23754, 7317.0, 14776.0, -2.819541, 3.418238e-05, -3.302812, 7.773573, 96.52725, 9.82879, -0.1443228, 3.324876, -9.238993, -2.624738, 3.847316, 6.614255, 6.472054, 13.08631, 0.6935231, 0.03630654, 0.6572165, 2.0, 27355.0, 0.1944911, 2.379572e-06, 0.1608488, 0.08268281, 0.01096478, 0.1064992, 0.8827042, 3.843852, 0.1029269, 0.181778, 0.2627802, 0.07885108, 0.08100221, 0.1598533, 1.130357, 0.112662, 1.017695, 17050.0, 27225.0, 0.4360291, 4.425725e-06, 0.3734582, 0.117388, 0.02149943, 0.1510118, -0.1017965, 2.614518, 0.3241244, 0.4621143, 0.5349911, 0.1379899, 0.07287678, 0.2108667, 1.344003, 0.2941526, 1.04985, 24536.0, 525.0, 0.7372532, 5.213033e-06, 0.6635513, 0.1286951, 0.02600304, 0.1667748, -0.129993, 2.547154, 0.630048, 0.7471695, 0.8529251, 0.1171215, 0.1057556, 0.2228771, 1.572431, 0.5963627, 0.9760688, 2.0, 25636.0, 1.1094, 1.620233e-07, 1.10711, 0.1062919, 0.01965141, 0.1401897, -0.7009723, 3.806321, 1.038846, 1.126683, 1.199119, 0.0878377, 0.07243586, 0.1602736, 1.842093, 0.8671236, 0.9749695, 2.0, 25737.0, 1.489364, -5.010451e-07, 1.496448, 0.07625163, 0.01011254, 0.1006443, -0.8837196, 5.167531, 1.43577, 1.498687, 1.556687, 0.06291676, 0.05800021, 0.120917, 2.111885, 1.378564, 0.7333213, 1.0, 17571.0, 1.754883, 4.358805e-07, 1.748721, 0.08376661, 0.01064658, 0.1032436, 0.7031994, 2.701894, 1.679711, 1.728482, 1.81776, 0.04877126, 0.0892781, 0.1380494, 2.438036, 1.706797, 0.7312391, 0.0, 7892.0, 2.059798, -3.950834e-07, 2.065383, 0.1127908, 0.01881097, 0.137191, 0.5125546, 2.286947, 1.959018, 2.026413, 2.158859, 0.06739509, 0.1324458, 0.1998409, 2.794345, 1.938689, 0.8556564, 0.0, 9945.0, 2.359179, -2.498213e-06, 2.394499, 0.1904363, 0.04697345, 0.2176909, 0.6341836, 1.826799, 2.186403, 2.259725, 2.603007, 0.07332182, 0.3432822, 0.416604, 0.991236, 0.002719855, 0.9885162, 0.0, 17091.0, 0.031949, 4.814331e-07, 0.0251425, 0.01852415, 0.001060318, 0.03279882, 5.805833, 86.65306, 0.01450589, 0.02296766, 0.03868238, 0.008461772, 0.01571472, 0.02417649, 0.9708264, 0.05639454, 0.9144319, 25159.0, 0.0, 0.546373, -2.527424e-06, 0.5821057, 0.09623168, 0.01494627, 0.1239835, -0.01167028, 3.493127, 0.4650649, 0.5424089, 0.6268615, 0.07734397, 0.08445257, 0.1617965, 487.3077, 0.0, 487.3077, 23816.0, 0.0, 115.898, -0.00072233, 126.1103, 111.6601, 16775.16, 129.6531, 0.7471068, 2.367075, 0.0, 97.03076, 201.7241, 97.03076, 104.6934, 201.7241, 476.5791, 0.0, 476.5791, 19918.0, 0.0, 277.0717, 0.002922236, 235.7571, 75.2851, 7636.94, 90.58667, -0.06205833, 1.825282, 172.1954, 293.274, 350.059, 121.0786, 56.78494, 177.8636, 5.911849e-05, -5.075883e-05, 0.0001098773, 15572.0, 15576.0, 1.274857e-15, -2.160064e-13, 3.053899e-09, 3.240969e-06, 3.284379e-11, 5.73095e-06, 0.2474251, 13.54156, -1.4866e-06, -4.381976e-13, 1.430771e-06, 1.4866e-06, 1.430772e-06, 2.917371e-06, 1.096462, -1.006541, 2.103002, 15572.0, 15118.0, 4.084829e-07, -2.463547e-08, 0.0003487048, 0.1393119, 0.03544654, 0.1882726, 0.09094094, 4.521866, -0.1062876, -0.0005096939, 0.103449, 0.1057779, 0.1039587, 0.2097365, 16.73922, -14.85552, 31.59474, 41.0, 5324.0, -0.0007244418, -3.308908e-07, 0.003953692, 0.7549561, 1.697674, 1.302951, -1.35043, 18.49551, -0.3545082, 0.06323013, 0.4885456, 0.4177383, 0.4253155, 0.8430538, 13.2481, -11.52678, 24.77488, 3955.0, 5549.0, -0.0003563997, -9.771536e-09, -0.0002182497, 0.8763627, 1.630714, 1.276994, 0.05655376, 9.0812, -0.6180397, 0.004065847, 0.6110411, 0.6221056, 0.6069752, 1.229081, 9.4249, -9.49098, 18.91588, 15676.0, 15672.0, -0.0003008435, -1.529924e-07, 0.001862163, 1.007996, 1.865968, 1.366005, 0.05830778, 5.472072, -0.773011, -0.01125466, 0.7588767, 0.7617564, 0.7701313, 1.531888, 8.339975, -9.953395, 18.29337, 15946.0, 7565.0, -0.0002520887, 4.669156e-08, -0.0009122141, 1.145396, 2.373487, 1.540612, -0.1036144, 5.105114, -0.8660116, 0.008304918, 0.8859623, 0.8743165, 0.8776574, 1.751974, 11.93949, -10.32645, 22.26594, 7844.0, 7312.0, -0.0001001906, -5.72245e-08, 0.0007088493, 1.273087, 2.907691, 1.705195, 0.1116956, 5.125317, -0.9814741, 0.0001245499, 0.9679112, 0.9815987, 0.9677867, 1.949385, 13.14433, -10.0041, 23.14843, 2650.0, 2637.0, -5.250838e-05, 3.744457e-08, -0.0005818997, 1.379009, 3.336469, 1.8266, 0.04496314, 4.715624, -1.087683, -0.01537819, 1.069008, 1.072305, 1.084386, 2.156692, 10.35986, -8.610098, 18.96996, 11711.0, 6036.0, -7.670751e-05, -1.729243e-08, 0.0001677729, 1.422, 3.437954, 1.854172, 0.0712171, 4.126709, -1.145668, -0.0008337498, 1.13019, 1.144834, 1.131024, 2.275858, 10.33183, -10.88479, 21.21662, 12685.0, 254.0, -0.000437349, -7.596045e-08, 0.0006365798, 1.489626, 3.721629, 1.929152, 0.01884446, 3.789966, -1.190086, -0.004578781, 1.191226, 1.185507, 1.195805, 2.381312, 12.16209, -10.18115, 22.34324, 6041.0, 5610.0, -0.0003715431, -4.348761e-08, 0.0002432848, 1.531818, 3.970831, 1.992694, 0.1122115, 4.175425, -1.248783, -0.03083396, 1.224657, 1.217949, 1.255491, 2.473441, 11.8727, -12.01853, 23.89124, 19933.0, 25085.0, -0.0002983527, 5.792901e-08, -0.001117353, 1.571437, 4.211993, 2.052314, -0.043218, 4.144495, -1.244607, 0.005461419, 1.256041, 1.250069, 1.25058, 2.500649, 9.218046, -11.65026, 20.86831, 3635.0, 5023.0, -8.951095e-05, -4.286414e-08, 0.0005165022, 1.45092, 3.518286, 1.875709, -0.1090577, 3.841994, -1.150366, 0.006103516, 1.195173, 1.15647, 1.18907, 2.34554, 8.641249, -9.425372, 18.06662, 9840.0, 4453.0, -4.078443e-05, 4.869777e-08, -0.0007292734, 1.387658, 3.225873, 1.796072, -0.0530808, 3.740881, -1.099093, 0.01751605, 1.125074, 1.116609, 1.107558, 2.224167, 0.1569391, -0.1015333, 0.2584724, 5324.0, 17019.0, -1.48606e-06, 4.182744e-09, -6.06217e-05, 0.006930105, 0.0001872947, 0.01368561, 1.424105, 22.31069, -0.003446396, -0.0003173392, 0.0024618, 0.003129057, 0.002779139, 0.005908196, 0.1807804, -0.149519, 0.3302994, 24534.0, 24539.0, -1.58815e-06, 6.039339e-09, -8.697233e-05, 0.009544075, 0.0002612094, 0.01616205, 1.168855, 16.11503, -0.006093276, -0.0007292628, 0.004506828, 0.005364013, 0.005236091, 0.0106001, 0.1559939, -0.1702769, 0.3262708, 7347.0, 41.0, 6.548353e-07, 6.371668e-09, -8.942781e-05, 0.0133383, 0.0004051796, 0.02012914, 0.5645718, 9.062649, -0.00928123, -0.0008763552, 0.007526445, 0.008404875, 0.0084028, 0.01680768, 0.1323551, -0.157711, 0.2900661, 16275.0, 41.0, -1.104176e-09, 5.236128e-09, -7.402947e-05, 0.01330401, 0.0003756165, 0.01938087, 0.3892543, 7.599925, -0.009534622, -0.00059551, 0.008244085, 0.008939112, 0.008839595, 0.01777871, 0.1416954, -0.1437239, 0.2854193, 17405.0, 25733.0, -1.336074e-06, 4.139024e-09, -5.985359e-05, 0.01100256, 0.0002587849, 0.01608683, 0.5926725, 9.134998, -0.008249724, -0.0005204797, 0.006960094, 0.007729244, 0.007480574, 0.01520982, 0.06609354, -0.08621464, 0.1523082, 25458.0, 17569.0, -2.894423e-06, 4.680827e-09, -6.907195e-05, 0.009187001, 0.0001510869, 0.0122918, 0.2132642, 4.670397, -0.007152391, -0.0002761364, 0.006750524, 0.006876254, 0.00702666, 0.01390291, 0.09148487, -0.08516575, 0.1766506, 7229.0, 3953.0, -6.580665e-06, 4.106767e-09, -6.464214e-05, 0.01107966, 0.0002211318, 0.01487054, 0.1758297, 4.654634, -0.008610249, -0.0004668951, 0.008086776, 0.008143353, 0.008553672, 0.01669702, 0.1443553, -0.1549858, 0.2993412, 5297.0, 5867.0, -3.638125e-06, 5.703779e-09, -8.427814e-05, 0.01685542, 0.0005825838, 0.02413682, -0.04163387, 6.064355, -0.01122379, -0.0001274109, 0.01113641, 0.01109638, 0.01126382, 0.02236021, 0.1310063, -0.106437, 0.2374434, 28276.0, 2.0, -1.972884e-05, 1.003629e-08, -0.0001616219, 0.002448304, 2.960702e-05, 0.00544185, 0.2618825, 51.03192, -0.001087942, -3.022086e-05, 0.0009670596, 0.001057721, 0.0009972805, 0.002055001, 0.1486155, -0.1250301, 0.2736456, 25085.0, 4479.0, 4.660109e-06, -6.178107e-09, 9.200619e-05, 0.01525776, 0.0004771054, 0.0218428, -0.1511479, 6.173525, -0.0100063, 0.0005474642, 0.010623, 0.01055376, 0.01007554, 0.0206293, 128.7152, -129.2308, 257.946, 19886.0, 19883.0, -4.839391e-09, -1.739365e-06, 0.02459114, 16.53489, 899.772, 29.9962, 0.01882567, 6.342788, -2.691736, 0.0, 2.226007, 2.691736, 2.226007, 4.917743, 63.07318, -26.06945, 89.14263, 45.0, 24274.0, 0.01386221, -1.216839e-06, 0.03106588, 2.019554, 17.29516, 4.158757, 0.4545746, 14.58618, -0.2899505, 0.0, 0.1067047, 0.2899505, 0.1067047, 0.3966553], "album_pic_150x150": "http://y.gtimg.cn/music/photo_new/T002R150x150M000001qYTzY2oyDyZ.jpg", "genre": "Pop 流行", "song_name": "体面", "playable": 1, "try_begin": 89585, "copyright": 1, "album_title": "体面", "singer_id": 67008, "singer_pic": "http://y.gtimg.cn/music/photo_new/T001R120x120M000000poF8D027tPr.jpg", "size_try": 703424}

userexample = {"age": 36, "article": [20.6096, 9.1775, 8.6611, 14.8481, 120.1147, 3.863, 5.7131, 7.2477, 6.6095, 20.4303, 6.5091, 35.7029, 9.859, 11.9957, 2.4779, 11.4066, 12.5511, 44.3038, 7.2557, 1.0564, 1.3972, 1.2475, 4.9496, 368.0], "friend_num": 720, "id": 2669674500, "moments_lda": [0.000109, 0.000109, 0.000109, 0.012929, 0.000109, 0.000109, 0.000109, 0.004011, 0.000109, 0.022963, 0.000109, 0.000109, 0.000109, 0.000666, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.022405, 0.000109, 0.000109, 0.000109, 0.000109, 0.024078, 0.000109, 0.000109, 0.004568, 0.000109, 0.000109, 0.002896, 0.000109, 0.000109, 0.127199, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.184613, 0.001224, 0.000109, 0.000109, 0.000109, 0.000109, 0.002339, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000666, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000666, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.015159, 0.000109, 0.000666, 0.000109, 0.000109, 0.000109, 0.000666, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.010142, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.038013, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.007355, 0.000109, 0.003453, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000666, 0.041357, 0.000109, 0.002896, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.030767, 0.054735, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000666, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.022405, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.177924, 0.000109, 0.000109, 0.000109, 0.000109, 0.000666, 0.016274, 0.001224, 0.000666, 0.000109, 0.000109, 0.030767, 0.002339, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.02575, 0.000109, 0.000109, 0.004568, 0.000109, 0.000666, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.021848, 0.000109, 0.000109, 0.035226, 0.000109, 0.000666, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.000109, 0.0107, 0.000109, 0.000109, 0.007355, 0.000109], "country": "中国", "gender": 2, "province": "陕西省", "moments": []}

class MusicRecom(QWidget):
    def __init__(self):
        super().__init__()
        self.init_recommender()
        self.init_data()
        self.init_list()
        self.init_ui()
        self.init_connect()
        pass

    def init_data(self):
        print("Loading Song Data...")
        self.sd = SongData()
        print("Loading User Data...")
        self.ud = UserData()
        self.user = userexample
        pass

    def init_recommender(self):
        self.recom = DefaultRecom()

    def init_list(self):
        self.song_id = [3170504, 2767070, 2818113, 2928483, 2922706]
        self.song_info = []
        for id in self.song_id:
            self.song_info.append(self.sd.searchMusicById(id))
        pass


    def init_ui(self):
        self.song_button_vec = []

        for i in range(5):
            self.song_button_vec.append(SongButton(self, self.song_info[i]))

        self.user_info = self.user

        self.setGeometry(300, 300, 450, 450)
        self.setWindowTitle("Music Recommander Demo")


        self.search_user_line = QLineEdit(self)
        self.search_user_button = QPushButton(self)
        self.search_user_button.setText("搜索用户")

        self.user_id_label = QLabel(self)
        self.user_id_label.setText("编号: " + str(self.user_info["id"]))
        self.user_gender_label = QLabel(self)
        gender_str = "性别: "
        if self.user_info["gender"] == 1:
            gender_str = gender_str + "男"
        elif self.user_info["gender"] == 2:
            gender_str = gender_str + "女"
        self.user_gender_label.setText(gender_str)

        self.user_age_label = QLabel(self)
        self.user_age_label.setText("年龄: " + str(self.user_info["age"]))

        self.user_region_label = QLabel(self)
        self.user_region_label.setText("地区: " + self.user_info["country"] + " " + self.user_info["province"])

        self.search_layout = QHBoxLayout()
        self.user_layout = QVBoxLayout()
        self.main_layout = QVBoxLayout()
        self.info_layout = QHBoxLayout()
        self.button_layout = QVBoxLayout()

        self.search_layout.addWidget(self.search_user_line)
        self.search_layout.addWidget(self.search_user_button)

        self.user_layout.addWidget(self.user_id_label)
        self.user_layout.addWidget(self.user_gender_label)
        self.user_layout.addWidget(self.user_age_label)
        self.user_layout.addWidget(self.user_region_label)

        for btn in self.song_button_vec:
            self.button_layout.addWidget(btn)

        self.main_layout.addLayout(self.search_layout)
        self.info_layout.addLayout(self.user_layout)
        self.info_layout.addLayout(self.button_layout)
        self.main_layout.addLayout(self.info_layout)

        self.setLayout(self.main_layout)
        self.show()
        pass

    def init_connect(self):
        self.search_user_button.clicked.connect(self.search_user)
        pass

    def search_user(self):
        temp = self.search_user_line.text()
        temp = int(temp)
        self.user = self.ud.searchUserById(temp)

        if self.user == {}:
            return

        self.song_id = self.recom.get_recom(temp)
        print(self.song_id)
        self.song_info = []
        for id in self.song_id:
            self.song_info.append(self.sd.searchMusicById(id))

        self.update_ui()


    def update_ui(self):
        self.user_info = self.user
        self.user_id_label.setText("编号: " + str(self.user_info["id"]))
        gender_str = "性别: "
        if self.user_info["gender"] == 1:
            gender_str = gender_str + "男"
        elif self.user_info["gender"] == 2:
            gender_str = gender_str + "女"
        self.user_gender_label.setText(gender_str)
        self.user_age_label.setText("年龄: " + str(self.user_info["age"]))
        self.user_region_label.setText("地区: " + self.user_info["country"] + " " + self.user_info["province"])
        self.show()
        for i in range(5):
            btn = self.song_button_vec[i]
            btn.update_song(self.song_info[i])
        pass

if __name__ == "__main__":
    app = QApplication(sys.argv)
    mr = MusicRecom()
    sys.exit(app.exec_())